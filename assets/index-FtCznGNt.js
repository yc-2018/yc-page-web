import{r as i,u as w,j as t,N as y}from"./index-f1YMPRds.js";import{c as M}from"./NoLoginData-jnf33Hf6.js";import{g as N,a as R,b as _,M as I,c as B}from"./index-Dd2coV9I.js";import{L as h}from"./index-CowcfUAk.js";import{M as O}from"./index-BuoCKCTW.js";import{P as U}from"./index-BEIOo5xS.js";import{R as $}from"./BookOutlined-DVCzop3c.js";import"./index-C0RmN517.js";import"./index-vSZfxbh9.js";import"./EllipsisOutlined-DD2lymnb.js";import"./Overflow-C8ZKkp8Z.js";import"./useMergedState-DTxgtxFb.js";import"./index-uePLcMZT.js";import"./isMobile-DjGTsQxe.js";import"./LeftOutlined-Re7l8AMl.js";import"./mediaQueryUtil-BSyvLspT.js";import"./collapse-BbEVqHco.js";import"./colors-CI0yjLlk.js";import"./AntdIcon-DOlxDjpc.js";const E="_scrollbar_1vdoq_6",H="_content_1vdoq_22",p={scrollbar:E,content:H},b=(r,o={})=>r.map(s=>({key:s[0],label:s[0],icon:o[s[0]]?t.jsx("img",{src:`${B}/icon/${o[s[0]]}`,alt:"图标"}):t.jsx($,{}),children:s.length>1?s.slice(1).map(c=>({key:c,label:t.jsx(U,{placement:"right",content:c.replace(".md",""),children:t.jsx("div",{style:{maxWidth:230},children:c.replace(".md","")})})})):[]})),{Content:K,Sider:q}=h,G=`
# 欢迎来到仰晨博客
看看菜单有什么感兴趣或者需要的吧

其他：[CSDN](https://blog.csdn.net/weixin_46665865)  [GitHub](https://github.com/yc-2018)  [Gitee](https://gitee.com/yc556)
`,rt=()=>{const[r,o]=i.useState(G),[s,c]=i.useState(!1),[j,L]=i.useState(!0),[S,C]=i.useState(b(M)),[d,l]=i.useState([]),P=w();i.useEffect(()=>{k()},[]);const k=async()=>{var f;const n=await N(),a=await R();C(b(a,n)),L(!1);const u=(f=window.location.href.split("?"))==null?void 0:f[1];if(u){const v=new URLSearchParams(u).get("item");try{const e=JSON.parse(decodeURIComponent(v??""));if((e==null?void 0:e.length)===2){const x=a.find(m=>m[0]===e[1]);if(!x)return o("# 没有找到对应的博客哦!");if(!x.some(m=>m===e[0]))return o("# 没有找到对应的文章哦!");l(e),g({keyPath:e})}}catch(e){o("# 参数异常"),console.log("URL参数异常",e)}}},g=n=>{c(!0),l(n.keyPath),P(`?item=${encodeURIComponent(JSON.stringify(n.keyPath))}`),_(n.keyPath).then(a=>{o(a)}).catch(()=>{o("请求失败，请检查网络连接")}).finally(()=>c(!1))};return t.jsxs(h,{style:{maxHeight:"calc(100vh - 64px)"},children:[t.jsx(q,{width:250,theme:"light",className:p.scrollbar,style:{overflow:"auto",maxHeight:"calc(100vh - 112px)"},collapsible:!0,children:j?t.jsx(y,{loadName:"获取菜单中..."}):t.jsx(O,{selectedKeys:[d[0]],openKeys:[d[1]],mode:"inline",items:S,onClick:g,onOpenChange:n=>l(a=>n.length>0?[a[0],n[1]]:[a[0],null])})}),t.jsx(h,{style:{padding:"10px"},children:t.jsx(K,{className:`${p.scrollbar} ${p.content}`,children:s?t.jsx(y,{}):t.jsx(I,{children:r})})})]})};export{rt as default};
