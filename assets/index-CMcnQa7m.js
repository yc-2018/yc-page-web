import{o as u,r as o,j as e,B as x,C as g}from"./index-A5yLZ6sE.js";import{U as s}from"./JWTUtils-vY2OjTKT.js";import{l as f}from"./commonRequest-BDHuasdf.js";import{M as h}from"./index-M-fRZ1xO.js";import{R as t}from"./index-CFkJnFkl.js";import{S as j}from"./index-DRMuOqWZ.js";import{I as y}from"./index-C3rW4Mqv.js";import"./index-C0Zqfgkc.js";import"./myAxios-C3_QTT3r.js";import"./PurePanel--XuvXQc0.js";import"./useMergedState-CNW99mOk.js";import"./useBubbleLock-C27jtsPU.js";import"./useForm-BN5NoNFJ.js";import"./index-DsgbjGfF.js";import"./BaseInput-DtphrZ4s.js";import"./TextArea-CwLa56fN.js";import"./SearchOutlined-BMZJ7QSY.js";const v=()=>{const[p,c]=o.useState(void 0),[n,i]=o.useState(void 0),[m,d]=o.useState(!1),a=o.useRef(null);o.useEffect(()=>{s.openModal&&window.setTimeout(()=>a.current?.focus(),100)},[s.openModal]);const l=async()=>{if(n?.length!==6)return g.msg.error("验证码格式有误");await f(n,p,d)&&(i(void 0),s.setOpenModal(!1))};return e.jsx(h,{zIndex:1001,open:s.openModal,onCancel:()=>s.setOpenModal(!1),footer:e.jsx(e.Fragment,{}),children:e.jsxs("span",{style:{textAlign:"center",display:"block",margin:"0 auto"},children:[e.jsx("p",{style:{fontSize:20},children:"请使用微信扫一扫关注(仰晨)登录"}),e.jsx("img",{src:"/wxGzh.jpg",alt:"仰晨公众号二维码"}),e.jsxs(t.Group,{defaultValue:"yt",size:"small",style:{marginBottom:5},onChange:r=>c(r.target.value),children:[e.jsx(t.Button,{disabled:!0,style:{color:"#85a2c7"},children:"登录有效时长:"}),e.jsx(t.Button,{value:"bt",children:"半天"}),e.jsx(t.Button,{value:"yt",children:"一天"}),e.jsx(t.Button,{value:"yz",children:"一周"}),e.jsx(t.Button,{value:"yy",children:"一个月"}),e.jsx(t.Button,{value:"yn",children:"一年"})]}),e.jsxs(j.Compact,{style:{width:"80%"},size:"large",children:[e.jsx(y,{placeholder:"请输入验证码",value:n,onChange:r=>i(r.target.value),onPressEnter:l,ref:a}),e.jsx(x,{type:"primary",onClick:l,loading:m,children:"验证登录"})]}),e.jsxs("p",{style:{color:"#fa5555"},children:["如已关注，请回复“",e.jsx("strong",{children:"登录"}),"”二字获取验证码进行登录"]})]})})},F=u(v);export{F as default};
