import{o as j,r as l,j as e}from"./index-A5yLZ6sE.js";import{J as o,U as s}from"./JWTUtils-vY2OjTKT.js";import{u as g}from"./commonRequest-BDHuasdf.js";import{F as i}from"./index-hpCMQHIr.js";import{M as h}from"./index-M-fRZ1xO.js";import{I as p}from"./index-C3rW4Mqv.js";import{R as y,C as c}from"./row-nJEp4c2c.js";import{A as d}from"./index-BU81GJiE.js";import{R as C}from"./UserOutlined-CfW2SoPa.js";import"./index-C0Zqfgkc.js";import"./myAxios-C3_QTT3r.js";import"./collapse-BbEVqHco.js";import"./useForm-BN5NoNFJ.js";import"./QuestionCircleOutlined-CkfPyHQh.js";import"./index-r_tzkC_A.js";import"./useMergedState-CNW99mOk.js";import"./index-D75fbnRN.js";import"./isMobile-BJ3NyRiN.js";import"./colors-BulqiBxK.js";import"./PurePanel--XuvXQc0.js";import"./index-DsgbjGfF.js";import"./BaseInput-DtphrZ4s.js";import"./TextArea-CwLa56fN.js";import"./SearchOutlined-BMZJ7QSY.js";import"./mediaQueryUtil-hfzWrMGZ.js";import"./AntdIcon-BGhW0jrX.js";const P=j(()=>{const[f,m]=l.useState(!1),[r,n]=l.useState(o.getAvatar()),[a]=i.useForm(),u=async()=>{a.validateFields().then(async t=>{const{username:x}=t;m(!0);const v=await g({username:x,avatar:r});m(!1),v===1&&(s.setInfoModal(!1),a.resetFields())}).catch(t=>console.log("表单有误=>",t))};return e.jsxs(h,{onOk:u,title:"查看|修改 个人信息",open:s.infoModal,confirmLoading:f,onCancel:()=>s.setInfoModal(!1),children:[e.jsx(i,{form:a,layout:"vertical",initialValues:{username:o.getName(),avatar:o.getAvatar()},children:e.jsx(i.Item,{name:"username",label:"用户昵称",rules:[{required:!0,max:10}],children:e.jsx(p,{placeholder:"请输入用户昵称"})})}),e.jsxs(y,{children:[e.jsxs(c,{span:20,children:["头像",e.jsx(p,{value:r,onChange:t=>n(t.target.value)})]}),e.jsx(c,{span:4,style:{display:"flex",justifyContent:"center",alignItems:"center"},children:e.jsx(d,{size:40,style:{backgroundColor:"rgba(180,171,171,0.45)"},icon:e.jsx(C,{}),src:r})}),[...Array(99).keys()].map(t=>e.jsx(d,{size:40,src:`https://api.dicebear.com/7.x/miniavs/svg?seed=${t+1}`,onClick:()=>n(`https://api.dicebear.com/7.x/miniavs/svg?seed=${t+1}`)},t))]})]})});export{P as default};
