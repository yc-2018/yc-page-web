import{r,u as v,j as t,ac as x}from"./index-A5yLZ6sE.js";import{c as w}from"./NoLoginData-emfzuWbV.js";import{g as M,a as R,b as N,M as _,c as I}from"./index-CIeBYLsV.js";import{L as h}from"./index-BAhc3GvG.js";import{M as B}from"./index-C4R72GeC.js";import{P as K}from"./index-r_tzkC_A.js";import{R as O}from"./BookOutlined-CLE8tFYw.js";import"./index-C0Zqfgkc.js";import"./index-Ci-KUUly.js";import"./index-B-z-fz3F.js";import"./EllipsisOutlined-W2Pnv1Er.js";import"./Overflow-Duq_5duB.js";import"./useMergedState-CNW99mOk.js";import"./index-D75fbnRN.js";import"./isMobile-BJ3NyRiN.js";import"./LeftOutlined-Re7l8AMl.js";import"./mediaQueryUtil-hfzWrMGZ.js";import"./collapse-BbEVqHco.js";import"./colors-BulqiBxK.js";import"./AntdIcon-BGhW0jrX.js";const U="_scrollbar_1vdoq_6",$="_content_1vdoq_22",p={scrollbar:U,content:$},y=(i,e={})=>i.map(o=>({key:o[0],label:o[0],icon:e[o[0]]?t.jsx("img",{src:`${I}/icon/${e[o[0]]}`,alt:"图标"}):t.jsx(O,{}),children:o.length>1?o.slice(1).map(c=>({key:c,label:t.jsx(K,{placement:"right",content:c.replace(".md",""),children:t.jsx("div",{style:{maxWidth:230},children:c.replace(".md","")})})})):[]})),{Content:E,Sider:H}=h,q=`
# 欢迎来到仰晨博客
看看菜单有什么感兴趣或者需要的吧

其他：[CSDN](https://blog.csdn.net/weixin_46665865)  [GitHub](https://github.com/yc-2018)  [Gitee](https://gitee.com/yc556)
`,it=()=>{const[i,e]=r.useState(q),[o,c]=r.useState(!1),[b,j]=r.useState(!0),[L,S]=r.useState(y(w)),[d,l]=r.useState([]),C=v();r.useEffect(()=>{P()},[]);const P=async()=>{const s=await M(),n=await R();S(y(n,s)),j(!1);const u=window.location.href.split("?")?.[1];if(u){const k=new URLSearchParams(u).get("item");try{const a=JSON.parse(decodeURIComponent(k??""));if(a?.length===2){const f=n.find(m=>m[0]===a[1]);if(!f)return e("# 没有找到对应的博客哦!");if(!f.some(m=>m===a[0]))return e("# 没有找到对应的文章哦!");l(a),g({keyPath:a})}}catch(a){e("# 参数异常"),console.log("URL参数异常",a)}}},g=s=>{c(!0),l(s.keyPath),C(`?item=${encodeURIComponent(JSON.stringify(s.keyPath))}`),N(s.keyPath).then(n=>{e(n)}).catch(()=>{e("请求失败，请检查网络连接")}).finally(()=>c(!1))};return t.jsxs(h,{style:{maxHeight:"calc(100vh - 64px)"},children:[t.jsx(H,{width:250,theme:"light",className:p.scrollbar,style:{overflow:"auto",maxHeight:"calc(100vh - 112px)"},collapsible:!0,children:b?t.jsx(x,{loadName:"获取菜单中..."}):t.jsx(B,{selectedKeys:[d[0]],openKeys:[d[1]],mode:"inline",items:L,onClick:g,onOpenChange:s=>l(n=>s.length>0?[n[0],s[1]]:[n[0],null])})}),t.jsx(h,{style:{padding:"10px"},children:t.jsx(E,{className:`${p.scrollbar} ${p.content}`,children:o?t.jsx(x,{}):t.jsx(_,{children:i})})})]})};export{it as default};
