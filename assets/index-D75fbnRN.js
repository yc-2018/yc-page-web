import{r as o,f as ne,i as Ca,t as Ma,n as H,a7 as sr,k as x,a5 as Sa,aU as Da,bK as Na,ad as La,aJ as ka,a4 as Xr,bL as ia,aN as Ta,v as sa,q as Wa,bC as za,P as wa}from"./index-A5yLZ6sE.js";import{R as Pa}from"./useMergedState-CNW99mOk.js";import{i as $a}from"./isMobile-BJ3NyRiN.js";function ba(r){var n;return r==null||(n=r.getRootNode)===null||n===void 0?void 0:n.call(r)}function Ha(r){return ba(r)instanceof ShadowRoot}function ua(r){return Ha(r)?ba(r):null}function Ba(r){var n=r.prefixCls,e=r.align,t=r.arrow,u=r.arrowPos,v=t||{},c=v.className,f=v.content,g=u.x,y=g===void 0?0:g,B=u.y,m=B===void 0?0:B,w=o.useRef();if(!e||!e.points)return null;var s={position:"absolute"};if(e.autoArrow!==!1){var S=e.points[0],z=e.points[1],L=S[0],D=S[1],F=z[0],k=z[1];L===F||!["t","b"].includes(L)?s.top=m:L==="t"?s.top=0:s.bottom=0,D===k||!["l","r"].includes(D)?s.left=y:D==="l"?s.left=0:s.right=0}return o.createElement("div",{ref:w,className:ne("".concat(n,"-arrow"),c),style:s},f)}function Fa(r){var n=r.prefixCls,e=r.open,t=r.zIndex,u=r.mask,v=r.motion;return u?o.createElement(Ca,Ma({},v,{motionAppear:!0,visible:e,removeOnLeave:!0}),function(c){var f=c.className;return o.createElement("div",{style:{zIndex:t},className:ne("".concat(n,"-mask"),f)})}):null}var Ea=o.memo(function(r){var n=r.children;return n},function(r,n){return n.cache}),Ra=o.forwardRef(function(r,n){var e=r.popup,t=r.className,u=r.prefixCls,v=r.style,c=r.target,f=r.onVisibleChanged,g=r.open,y=r.keepDom,B=r.fresh,m=r.onClick,w=r.mask,s=r.arrow,S=r.arrowPos,z=r.align,L=r.motion,D=r.maskMotion,F=r.forceRender,k=r.getPopupContainer,q=r.autoDestroy,J=r.portal,l=r.zIndex,wr=r.onMouseEnter,cr=r.onMouseLeave,Er=r.onPointerEnter,Pr=r.onPointerDownCapture,Rr=r.ready,fr=r.offsetX,dr=r.offsetY,or=r.offsetR,hr=r.offsetB,W=r.onAlign,E=r.onPrepare,d=r.stretch,er=r.targetWidth,K=r.targetHeight,A=typeof e=="function"?e():e,h=g||y,br=k?.length>0,te=o.useState(!k||!br),Sr=H(te,2),I=Sr[0],oe=Sr[1];if(sr(function(){!I&&br&&c&&oe(!0)},[I,br,c]),!I)return null;var ir="auto",G={left:"-1000vw",top:"-1000vh",right:ir,bottom:ir};if(Rr||!g){var xr,Ar=z.points,Dr=z.dynamicInset||((xr=z._experimental)===null||xr===void 0?void 0:xr.dynamicInset),ur=Dr&&Ar[0][1]==="r",_=Dr&&Ar[0][0]==="b";ur?(G.right=or,G.left=ir):(G.left=fr,G.right=ir),_?(G.bottom=hr,G.top=ir):(G.top=dr,G.bottom=ir)}var V={};return d&&(d.includes("height")&&K?V.height=K:d.includes("minHeight")&&K&&(V.minHeight=K),d.includes("width")&&er?V.width=er:d.includes("minWidth")&&er&&(V.minWidth=er)),g||(V.pointerEvents="none"),o.createElement(J,{open:F||h,getContainer:k&&function(){return k(c)},autoDestroy:q},o.createElement(Fa,{prefixCls:u,open:g,zIndex:l,mask:w,motion:D}),o.createElement(Pa,{onResize:W,disabled:!g},function(mr){return o.createElement(Ca,Ma({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:F,leavedClassName:"".concat(u,"-hidden")},L,{onAppearPrepare:E,onEnterPrepare:E,visible:g,onVisibleChanged:function(Lr){var Q;L==null||(Q=L.onVisibleChanged)===null||Q===void 0||Q.call(L,Lr),f(Lr)}}),function(Nr,Lr){var Q=Nr.className,Vr=Nr.style,X=ne(u,Q,t);return o.createElement("div",{ref:Sa(mr,n,Lr),className:X,style:x(x(x(x({"--arrow-x":"".concat(S.x||0,"px"),"--arrow-y":"".concat(S.y||0,"px")},G),V),Vr),{},{boxSizing:"border-box",zIndex:l},v),onMouseEnter:wr,onMouseLeave:cr,onPointerEnter:Er,onClick:m,onPointerDownCapture:Pr},s&&o.createElement(Ba,{prefixCls:u,arrow:s,arrowPos:S,align:z}),o.createElement(Ea,{cache:!g&&!B},A))})}))}),xa=o.forwardRef(function(r,n){var e=r.children,t=r.getTriggerDOMNode,u=Da(e),v=o.useCallback(function(f){Na(n,t?t(f):f)},[t]),c=La(v,ka(e));return u?o.cloneElement(e,{ref:c}):e}),ca=o.createContext(null);function fa(r){return r?Array.isArray(r)?r:[r]:[]}function Aa(r,n,e,t){return o.useMemo(function(){var u=fa(e??n),v=fa(t??n),c=new Set(u),f=new Set(v);return r&&(c.has("hover")&&(c.delete("hover"),c.add("click")),f.has("hover")&&(f.delete("hover"),f.add("click"))),[c,f]},[r,n,e,t])}function Va(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],e=arguments.length>2?arguments[2]:void 0;return e?r[0]===n[0]:r[0]===n[0]&&r[1]===n[1]}function Ua(r,n,e,t){for(var u=e.points,v=Object.keys(r),c=0;c<v.length;c+=1){var f,g=v[c];if(Va((f=r[g])===null||f===void 0?void 0:f.points,u,t))return"".concat(n,"-placement-").concat(g)}return""}function da(r,n,e,t){return n||(e?{motionName:"".concat(r,"-").concat(e)}:t?{motionName:t}:null)}function ge(r){return r.ownerDocument.defaultView}function la(r){for(var n=[],e=r?.parentElement,t=["hidden","scroll","clip","auto"];e;){var u=ge(e).getComputedStyle(e),v=u.overflowX,c=u.overflowY,f=u.overflow;[v,c,f].some(function(g){return t.includes(g)})&&n.push(e),e=e.parentElement}return n}function me(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(r)?n:r}function he(r){return me(parseFloat(r),0)}function ha(r,n){var e=x({},r);return(n||[]).forEach(function(t){if(!(t instanceof HTMLBodyElement||t instanceof HTMLHtmlElement)){var u=ge(t).getComputedStyle(t),v=u.overflow,c=u.overflowClipMargin,f=u.borderTopWidth,g=u.borderBottomWidth,y=u.borderLeftWidth,B=u.borderRightWidth,m=t.getBoundingClientRect(),w=t.offsetHeight,s=t.clientHeight,S=t.offsetWidth,z=t.clientWidth,L=he(f),D=he(g),F=he(y),k=he(B),q=me(Math.round(m.width/S*1e3)/1e3),J=me(Math.round(m.height/w*1e3)/1e3),l=(S-z-F-k)*q,wr=(w-s-L-D)*J,cr=L*J,Er=D*J,Pr=F*q,Rr=k*q,fr=0,dr=0;if(v==="clip"){var or=he(c);fr=or*q,dr=or*J}var hr=m.x+Pr-fr,W=m.y+cr-dr,E=hr+m.width+2*fr-Pr-Rr-l,d=W+m.height+2*dr-cr-Er-wr;e.left=Math.max(e.left,hr),e.top=Math.max(e.top,W),e.right=Math.min(e.right,E),e.bottom=Math.min(e.bottom,d)}}),e}function ma(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,e="".concat(n),t=e.match(/^(.*)\%$/);return t?r*(parseFloat(t[1])/100):parseFloat(e)}function ga(r,n){var e=n||[],t=H(e,2),u=t[0],v=t[1];return[ma(r.width,u),ma(r.height,v)]}function ya(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[r[0],r[1]]}function ae(r,n){var e=n[0],t=n[1],u,v;return e==="t"?v=r.y:e==="b"?v=r.y+r.height:v=r.y+r.height/2,t==="l"?u=r.x:t==="r"?u=r.x+r.width:u=r.x+r.width/2,{x:u,y:v}}function Fr(r,n){var e={t:"b",b:"t",l:"r",r:"l"};return r.map(function(t,u){return u===n?e[t]||"c":t}).join("")}function ja(r,n,e,t,u,v,c){var f=o.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:u[t]||{}}),g=H(f,2),y=g[0],B=g[1],m=o.useRef(0),w=o.useMemo(function(){return n?la(n):[]},[n]),s=o.useRef({}),S=function(){s.current={}};r||S();var z=Xr(function(){if(n&&e&&r){let rr=function(de,Mr){var _r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ie,Re=h.x+de,xe=h.y+Mr,na=Re+_,ta=xe+ur,a=Math.max(Re,_r.left),i=Math.max(xe,_r.top),P=Math.min(na,_r.right),T=Math.min(ta,_r.bottom);return Math.max(0,(P-a)*(T-i))},ee=function(){Wr=h.y+b,zr=Wr+ur,Jr=h.x+M,Cr=Jr+_};var F,k,q,J,l=n,wr=l.ownerDocument,cr=ge(l),Er=cr.getComputedStyle(l),Pr=Er.position,Rr=l.style.left,fr=l.style.top,dr=l.style.right,or=l.style.bottom,hr=l.style.overflow,W=x(x({},u[t]),v),E=wr.createElement("div");(F=l.parentElement)===null||F===void 0||F.appendChild(E),E.style.left="".concat(l.offsetLeft,"px"),E.style.top="".concat(l.offsetTop,"px"),E.style.position=Pr,E.style.height="".concat(l.offsetHeight,"px"),E.style.width="".concat(l.offsetWidth,"px"),l.style.left="0",l.style.top="0",l.style.right="auto",l.style.bottom="auto",l.style.overflow="hidden";var d;if(Array.isArray(e))d={x:e[0],y:e[1],width:0,height:0};else{var er,K,A=e.getBoundingClientRect();A.x=(er=A.x)!==null&&er!==void 0?er:A.left,A.y=(K=A.y)!==null&&K!==void 0?K:A.top,d={x:A.x,y:A.y,width:A.width,height:A.height}}var h=l.getBoundingClientRect(),br=cr.getComputedStyle(l),te=br.height,Sr=br.width;h.x=(k=h.x)!==null&&k!==void 0?k:h.left,h.y=(q=h.y)!==null&&q!==void 0?q:h.top;var I=wr.documentElement,oe=I.clientWidth,ir=I.clientHeight,G=I.scrollWidth,xr=I.scrollHeight,Ar=I.scrollTop,Dr=I.scrollLeft,ur=h.height,_=h.width,V=d.height,mr=d.width,Nr={left:0,top:0,right:oe,bottom:ir},Lr={left:-Dr,top:-Ar,right:G-Dr,bottom:xr-Ar},Q=W.htmlRegion,Vr="visible",X="visibleFirst";Q!=="scroll"&&Q!==X&&(Q=Vr);var Ur=Q===X,Ue=ha(Lr,w),C=ha(Nr,w),ie=Q===Vr?C:Ue,$=Ur?C:ie;l.style.left="auto",l.style.top="auto",l.style.right="0",l.style.bottom="0";var ye=l.getBoundingClientRect();l.style.left=Rr,l.style.top=fr,l.style.right=dr,l.style.bottom=or,l.style.overflow=hr,(J=l.parentElement)===null||J===void 0||J.removeChild(E);var gr=me(Math.round(_/parseFloat(Sr)*1e3)/1e3),kr=me(Math.round(ur/parseFloat(te)*1e3)/1e3);if(gr===0||kr===0||ia(e)&&!Ta(e))return;var je=W.offset,Ce=W.targetOffset,lr=ga(h,je),Me=H(lr,2),Y=Me[0],ar=Me[1],Yr=ga(d,Ce),Z=H(Yr,2),Tr=Z[0],qe=Z[1];d.x-=Tr,d.y-=qe;var Je=W.points||[],we=H(Je,2),Ke=we[0],Pe=we[1],yr=ya(Pe),U=ya(Ke),R=ae(d,yr),be=ae(h,U),O=x({},W),M=R.x-be.x+Y,b=R.y-be.y+ar,nr=rr(M,b),jr=rr(M,b,C),p=ae(d,["t","l"]),Se=ae(h,["t","l"]),ue=ae(d,["b","r"]),Or=ae(h,["b","r"]),qr=W.overflow||{},Ge=qr.adjustX,De=qr.adjustY,pr=qr.shiftX,le=qr.shiftY,Ne=function(Mr){return typeof Mr=="boolean"?Mr:Mr>=0},Wr,zr,Jr,Cr;ee();var Le=Ne(De),j=U[0]===yr[0];if(Le&&U[0]==="t"&&(zr>$.bottom||s.current.bt)){var Kr=b;j?Kr-=ur-V:Kr=p.y-Or.y-ar;var ke=rr(M,Kr),Qe=rr(M,Kr,C);ke>nr||ke===nr&&(!Ur||Qe>=jr)?(s.current.bt=!0,b=Kr,ar=-ar,O.points=[Fr(U,0),Fr(yr,0)]):s.current.bt=!1}if(Le&&U[0]==="b"&&(Wr<$.top||s.current.tb)){var Gr=b;j?Gr+=ur-V:Gr=ue.y-Se.y-ar;var Te=rr(M,Gr),Ze=rr(M,Gr,C);Te>nr||Te===nr&&(!Ur||Ze>=jr)?(s.current.tb=!0,b=Gr,ar=-ar,O.points=[Fr(U,0),Fr(yr,0)]):s.current.tb=!1}var We=Ne(Ge),ze=U[1]===yr[1];if(We&&U[1]==="l"&&(Cr>$.right||s.current.rl)){var Qr=M;ze?Qr-=_-mr:Qr=p.x-Or.x-Y;var Zr=rr(Qr,b),ve=rr(Qr,b,C);Zr>nr||Zr===nr&&(!Ur||ve>=jr)?(s.current.rl=!0,M=Qr,Y=-Y,O.points=[Fr(U,1),Fr(yr,1)]):s.current.rl=!1}if(We&&U[1]==="r"&&(Jr<$.left||s.current.lr)){var Ir=M;ze?Ir+=_-mr:Ir=ue.x-Se.x-Y;var se=rr(Ir,b),re=rr(Ir,b,C);se>nr||se===nr&&(!Ur||re>=jr)?(s.current.lr=!0,M=Ir,Y=-Y,O.points=[Fr(U,1),Fr(yr,1)]):s.current.lr=!1}ee();var tr=pr===!0?0:pr;typeof tr=="number"&&(Jr<C.left&&(M-=Jr-C.left-Y,d.x+mr<C.left+tr&&(M+=d.x-C.left+mr-tr)),Cr>C.right&&(M-=Cr-C.right-Y,d.x>C.right-tr&&(M+=d.x-C.right+tr)));var $r=le===!0?0:le;typeof $r=="number"&&(Wr<C.top&&(b-=Wr-C.top-ar,d.y+V<C.top+$r&&(b+=d.y-C.top+V-$r)),zr>C.bottom&&(b-=zr-C.bottom-ar,d.y>C.bottom-$r&&(b+=d.y-C.bottom+$r)));var Hr=h.x+M,Br=Hr+_,ce=h.y+b,Ie=ce+ur,$e=d.x,He=$e+mr,Be=d.y,_e=Be+V,Xe=Math.max(Hr,$e),Fe=Math.min(Br,He),Ye=(Xe+Fe)/2,Oe=Ye-Hr,Ee=Math.max(ce,Be),pe=Math.min(Ie,_e),ra=(Ee+pe)/2,ea=ra-ce;c?.(n,O);var vr=ye.right-h.x-(M+h.width),fe=ye.bottom-h.y-(b+h.height);gr===1&&(M=Math.round(M),vr=Math.round(vr)),kr===1&&(b=Math.round(b),fe=Math.round(fe));var aa={ready:!0,offsetX:M/gr,offsetY:b/kr,offsetR:vr/gr,offsetB:fe/kr,arrowX:Oe/gr,arrowY:ea/kr,scaleX:gr,scaleY:kr,align:O};B(aa)}}),L=function(){m.current+=1;var k=m.current;Promise.resolve().then(function(){m.current===k&&z()})},D=function(){B(function(k){return x(x({},k),{},{ready:!1})})};return sr(D,[t]),sr(function(){r||D()},[r]),[y.ready,y.offsetX,y.offsetY,y.offsetR,y.offsetB,y.arrowX,y.arrowY,y.scaleX,y.scaleY,y.align,L]}function qa(r,n,e,t,u){sr(function(){if(r&&n&&e){let m=function(){t(),u()};var v=n,c=e,f=la(v),g=la(c),y=ge(c),B=new Set([y].concat(sa(f),sa(g)));return B.forEach(function(w){w.addEventListener("scroll",m,{passive:!0})}),y.addEventListener("resize",m,{passive:!0}),t(),function(){B.forEach(function(w){w.removeEventListener("scroll",m),y.removeEventListener("resize",m)})}}},[r,n,e])}function Ja(r,n,e,t,u,v,c,f){var g=o.useRef(r);g.current=r;var y=o.useRef(!1);o.useEffect(function(){if(n&&t&&(!u||v)){var m=function(){y.current=!1},w=function(L){var D;g.current&&!c(((D=L.composedPath)===null||D===void 0||(D=D.call(L))===null||D===void 0?void 0:D[0])||L.target)&&!y.current&&f(!1)},s=ge(t);s.addEventListener("pointerdown",m,!0),s.addEventListener("mousedown",w,!0),s.addEventListener("contextmenu",w,!0);var S=ua(e);return S&&(S.addEventListener("mousedown",w,!0),S.addEventListener("contextmenu",w,!0)),function(){s.removeEventListener("pointerdown",m,!0),s.removeEventListener("mousedown",w,!0),s.removeEventListener("contextmenu",w,!0),S&&(S.removeEventListener("mousedown",w,!0),S.removeEventListener("contextmenu",w,!0))}}},[n,e,t,u,v]);function B(){y.current=!0}return B}var Ka=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function Ga(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:wa,n=o.forwardRef(function(e,t){var u=e.prefixCls,v=u===void 0?"rc-trigger-popup":u,c=e.children,f=e.action,g=f===void 0?"hover":f,y=e.showAction,B=e.hideAction,m=e.popupVisible,w=e.defaultPopupVisible,s=e.onPopupVisibleChange,S=e.afterPopupVisibleChange,z=e.mouseEnterDelay,L=e.mouseLeaveDelay,D=L===void 0?.1:L,F=e.focusDelay,k=e.blurDelay,q=e.mask,J=e.maskClosable,l=J===void 0?!0:J,wr=e.getPopupContainer,cr=e.forceRender,Er=e.autoDestroy,Pr=e.destroyPopupOnHide,Rr=e.popup,fr=e.popupClassName,dr=e.popupStyle,or=e.popupPlacement,hr=e.builtinPlacements,W=hr===void 0?{}:hr,E=e.popupAlign,d=e.zIndex,er=e.stretch,K=e.getPopupClassNameFromAlign,A=e.fresh,h=e.alignPoint,br=e.onPopupClick,te=e.onPopupAlign,Sr=e.arrow,I=e.popupMotion,oe=e.maskMotion,ir=e.popupTransitionName,G=e.popupAnimation,xr=e.maskTransitionName,Ar=e.maskAnimation,Dr=e.className,ur=e.getTriggerDOMNode,_=Wa(e,Ka),V=Er||Pr||!1,mr=o.useState(!1),Nr=H(mr,2),Lr=Nr[0],Q=Nr[1];sr(function(){Q($a())},[]);var Vr=o.useRef({}),X=o.useContext(ca),Ur=o.useMemo(function(){return{registerSubPopup:function(i,P){Vr.current[i]=P,X?.registerSubPopup(i,P)}}},[X]),Ue=za(),C=o.useState(null),ie=H(C,2),$=ie[0],ye=ie[1],gr=o.useRef(null),kr=Xr(function(a){gr.current=a,ia(a)&&$!==a&&ye(a),X?.registerSubPopup(Ue,a)}),je=o.useState(null),Ce=H(je,2),lr=Ce[0],Me=Ce[1],Y=o.useRef(null),ar=Xr(function(a){ia(a)&&lr!==a&&(Me(a),Y.current=a)}),Yr=o.Children.only(c),Z=Yr?.props||{},Tr={},qe=Xr(function(a){var i,P,T=lr;return T?.contains(a)||((i=ua(T))===null||i===void 0?void 0:i.host)===a||a===T||$?.contains(a)||((P=ua($))===null||P===void 0?void 0:P.host)===a||a===$||Object.values(Vr.current).some(function(N){return N?.contains(a)||a===N})}),Je=da(v,I,G,ir),we=da(v,oe,Ar,xr),Ke=o.useState(w||!1),Pe=H(Ke,2),yr=Pe[0],U=Pe[1],R=m??yr,be=Xr(function(a){m===void 0&&U(a)});sr(function(){U(m||!1)},[m]);var O=o.useRef(R);O.current=R;var M=o.useRef([]);M.current=[];var b=Xr(function(a){var i;be(a),((i=M.current[M.current.length-1])!==null&&i!==void 0?i:R)!==a&&(M.current.push(a),s?.(a))}),nr=o.useRef(),jr=function(){clearTimeout(nr.current)},p=function(i){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;jr(),P===0?b(i):nr.current=setTimeout(function(){b(i)},P*1e3)};o.useEffect(function(){return jr},[]);var Se=o.useState(!1),ue=H(Se,2),Or=ue[0],qr=ue[1];sr(function(a){(!a||R)&&qr(!0)},[R]);var Ge=o.useState(null),De=H(Ge,2),pr=De[0],le=De[1],Ne=o.useState(null),Wr=H(Ne,2),zr=Wr[0],Jr=Wr[1],Cr=function(i){Jr([i.clientX,i.clientY])},Le=ja(R,$,h&&zr!==null?zr:lr,or,W,E,te),j=H(Le,11),Kr=j[0],ke=j[1],Qe=j[2],Gr=j[3],Te=j[4],Ze=j[5],We=j[6],ze=j[7],Qr=j[8],Zr=j[9],ve=j[10],Ir=Aa(Lr,g,y,B),se=H(Ir,2),re=se[0],tr=se[1],$r=re.has("click"),Hr=tr.has("click")||tr.has("contextMenu"),Br=Xr(function(){Or||ve()}),ce=function(){O.current&&h&&Hr&&p(!1)};qa(R,lr,$,Br,ce),sr(function(){Br()},[zr,or]),sr(function(){R&&!(W!=null&&W[or])&&Br()},[JSON.stringify(E)]);var Ie=o.useMemo(function(){var a=Ua(W,v,Zr,h);return ne(a,K?.(Zr))},[Zr,K,W,v,h]);o.useImperativeHandle(t,function(){return{nativeElement:Y.current,popupElement:gr.current,forceAlign:Br}});var $e=o.useState(0),He=H($e,2),Be=He[0],_e=He[1],Xe=o.useState(0),Fe=H(Xe,2),Ye=Fe[0],Oe=Fe[1],Ee=function(){if(er&&lr){var i=lr.getBoundingClientRect();_e(i.width),Oe(i.height)}},pe=function(){Ee(),Br()},ra=function(i){qr(!1),ve(),S?.(i)},ea=function(){return new Promise(function(i){Ee(),le(function(){return i})})};sr(function(){pr&&(ve(),pr(),le(null))},[pr]);function vr(a,i,P,T){Tr[a]=function(N){var Ae;T?.(N),p(i,P);for(var oa=arguments.length,va=new Array(oa>1?oa-1:0),Ve=1;Ve<oa;Ve++)va[Ve-1]=arguments[Ve];(Ae=Z[a])===null||Ae===void 0||Ae.call.apply(Ae,[Z,N].concat(va))}}($r||Hr)&&(Tr.onClick=function(a){var i;O.current&&Hr?p(!1):!O.current&&$r&&(Cr(a),p(!0));for(var P=arguments.length,T=new Array(P>1?P-1:0),N=1;N<P;N++)T[N-1]=arguments[N];(i=Z.onClick)===null||i===void 0||i.call.apply(i,[Z,a].concat(T))});var fe=Ja(R,Hr,lr,$,q,l,qe,p),aa=re.has("hover"),rr=tr.has("hover"),ee,de;aa&&(vr("onMouseEnter",!0,z,function(a){Cr(a)}),vr("onPointerEnter",!0,z,function(a){Cr(a)}),ee=function(i){(R||Or)&&$!==null&&$!==void 0&&$.contains(i.target)&&p(!0,z)},h&&(Tr.onMouseMove=function(a){var i;(i=Z.onMouseMove)===null||i===void 0||i.call(Z,a)})),rr&&(vr("onMouseLeave",!1,D),vr("onPointerLeave",!1,D),de=function(){p(!1,D)}),re.has("focus")&&vr("onFocus",!0,F),tr.has("focus")&&vr("onBlur",!1,k),re.has("contextMenu")&&(Tr.onContextMenu=function(a){var i;O.current&&tr.has("contextMenu")?p(!1):(Cr(a),p(!0)),a.preventDefault();for(var P=arguments.length,T=new Array(P>1?P-1:0),N=1;N<P;N++)T[N-1]=arguments[N];(i=Z.onContextMenu)===null||i===void 0||i.call.apply(i,[Z,a].concat(T))}),Dr&&(Tr.className=ne(Z.className,Dr));var Mr=x(x({},Z),Tr),_r={},Re=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];Re.forEach(function(a){_[a]&&(_r[a]=function(){for(var i,P=arguments.length,T=new Array(P),N=0;N<P;N++)T[N]=arguments[N];(i=Mr[a])===null||i===void 0||i.call.apply(i,[Mr].concat(T)),_[a].apply(_,T)})});var xe=o.cloneElement(Yr,x(x({},Mr),_r)),na={x:Ze,y:We},ta=Sr?x({},Sr!==!0?Sr:{}):null;return o.createElement(o.Fragment,null,o.createElement(Pa,{disabled:!R,ref:ar,onResize:pe},o.createElement(xa,{getTriggerDOMNode:ur},xe)),o.createElement(ca.Provider,{value:Ur},o.createElement(Ra,{portal:r,ref:kr,prefixCls:v,popup:Rr,className:ne(fr,Ie),style:dr,target:lr,onMouseEnter:ee,onMouseLeave:de,onPointerEnter:ee,zIndex:d,open:R,keepDom:Or,fresh:A,onClick:br,onPointerDownCapture:fe,mask:q,motion:Je,maskMotion:we,onVisibleChanged:ra,onPrepare:ea,forceRender:cr,autoDestroy:V,getPopupContainer:wr,align:Zr,arrow:ta,arrowPos:na,ready:Kr,offsetX:ke,offsetY:Qe,offsetR:Gr,offsetB:Te,onAlign:Br,stretch:er,targetWidth:Be/ze,targetHeight:Ye/Qr})))});return n}const _a=Ga(wa);export{_a as T};
