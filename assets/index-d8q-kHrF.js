import{r as o,ap as K,R as a,bO as Z,c as w,bP as q}from"./index-f1YMPRds.js";import{i as J,u as Q,b as X,d as F,S as ee,D as te}from"./index-BW8OQ2Va.js";import{v as O,m as y,w as R,c as I,b as ne}from"./index-BYcsVX-q.js";var oe=function(e){return typeof e=="function"};function j(e,t){if(e===t)return!0;for(var n=0;n<e.length;n++)if(!Object.is(e[n],t[n]))return!1;return!0}function re(e){var t=o.useRef(e);return t.current=e,t}var se=function(e){var t=re(e);o.useEffect(function(){return function(){t.current()}},[])};function ce(e,t){if(J){if(!e)return t;var n;return oe(e)?n=e():"current"in e?n=e.current:n=e,n}}var ie=function(e){var t=function(n,c,s){var i=o.useRef(!1),r=o.useRef([]),d=o.useRef([]),m=o.useRef();e(function(){var l,f=Array.isArray(s)?s:[s],u=f.map(function(p){return ce(p)});if(!i.current){i.current=!0,r.current=u,d.current=c,m.current=n();return}(u.length!==r.current.length||!j(r.current,u)||!j(d.current,c))&&((l=m.current)===null||l===void 0||l.call(m),r.current=u,d.current=c,m.current=n())}),se(function(){var l;(l=m.current)===null||l===void 0||l.call(m),i.current=!1})};return t},ot=ie(o.useEffect),ae=function(){var e=o.useRef(!1);return o.useEffect(function(){return e.current=!1,function(){e.current=!0}},[]),e};const A=10;function le(e,t){return e>t&&e>A?"horizontal":t>e&&t>A?"vertical":""}function ue(){const e=o.useRef(0),t=o.useRef(0),n=o.useRef(0),c=o.useRef(0),s=o.useRef(0),i=o.useRef(0),r=o.useRef(""),d=()=>r.current==="vertical",m=()=>r.current==="horizontal",l=()=>{n.current=0,c.current=0,s.current=0,i.current=0,r.current=""};return{move:p=>{const h=p.touches[0];n.current=h.clientX<0?0:h.clientX-e.current,c.current=h.clientY-t.current,s.current=Math.abs(n.current),i.current=Math.abs(c.current),r.current||(r.current=le(s.current,i.current))},start:p=>{l(),e.current=p.touches[0].clientX,t.current=p.touches[0].clientY},reset:l,startX:e,startY:t,deltaX:n,deltaY:c,offsetX:s,offsetY:i,direction:r,isVertical:d,isHorizontal:m}}const de=O?window:void 0,fe=["scroll","auto","overlay"];function me(e){return e.nodeType===1}function pe(e,t=de){let n=e;for(;n&&n!==t&&me(n);){if(n===document.body)return t;const{overflowY:c}=window.getComputedStyle(n);if(fe.includes(c)&&n.scrollHeight>n.clientHeight)return n;n=n.parentNode}return t}let D=!1;if(O)try{const e={};Object.defineProperty(e,"passive",{get(){D=!0}}),window.addEventListener("test-passive",null,e)}catch{}let k=0;const B="adm-overflow-hidden";function ve(e){let t=e==null?void 0:e.parentElement;for(;t;){if(t.clientHeight<t.scrollHeight)return t;t=t.parentElement}return null}function ge(e,t){const n=ue(),c=r=>{n.move(r);const d=n.deltaY.current>0?"10":"01",m=pe(r.target,e.current);if(!m)return;if(t==="strict"){const E=ve(r.target);if(E===document.body||E===document.documentElement){r.preventDefault();return}}const{scrollHeight:l,offsetHeight:f,scrollTop:u}=m,{height:p}=m.getBoundingClientRect();let h="11";u===0?h=f>=l?"00":"01":l<=Math.round(p+u)&&(h="10"),h!=="11"&&n.isVertical()&&!(parseInt(h,2)&parseInt(d,2))&&r.cancelable&&D&&r.preventDefault()},s=()=>{document.addEventListener("touchstart",n.start),document.addEventListener("touchmove",c,D?{passive:!1}:!1),k||document.body.classList.add(B),k++},i=()=>{k&&(document.removeEventListener("touchstart",n.start),document.removeEventListener("touchmove",c),k--,k||document.body.classList.remove(B))};o.useEffect(()=>{if(t)return s(),()=>{i()}},[t])}function he(e){return(typeof e=="function"?e():e)||document.body}function Ee(e,t){if(O&&e){const n=he(e);return K.createPortal(t,n)}return t}const Ce={click:"onClick",touchstart:"onTouchStart"};function be(e,t){const n=Object.assign({},t.props);for(const c of e){const s=Ce[c];n[s]=function(i){var r,d;i.stopPropagation(),(d=(r=t.props)[s])===null||d===void 0||d.call(r,i)}}return a.cloneElement(t,n)}const T="adm-mask",ye={default:.55,thin:.35,thick:.75},Re={black:"0, 0, 0",white:"255, 255, 255"},ke={visible:!0,destroyOnClose:!1,forceRender:!1,color:"black",opacity:"default",disableBodyScroll:!0,getContainer:null,stopPropagation:["click"]},we=e=>{const t=y(ke,e),{locale:n}=Q(),c=o.useRef(null);ge(c,t.visible&&t.disableBodyScroll);const s=o.useMemo(()=>{var f;const u=(f=ye[t.opacity])!==null&&f!==void 0?f:t.opacity,p=Re[t.color];return p?`rgba(${p}, ${u})`:t.color},[t.color,t.opacity]),[i,r]=o.useState(t.visible),d=ae(),{opacity:m}=X({opacity:t.visible?1:0,config:{precision:.01,mass:1,tension:250,friction:30,clamp:!0},onStart:()=>{r(!0)},onRest:()=>{var f,u;d.current||(r(t.visible),t.visible?(f=t.afterShow)===null||f===void 0||f.call(t):(u=t.afterClose)===null||u===void 0||u.call(t))}}),l=be(t.stopPropagation,R(t,a.createElement(F.div,{className:T,ref:c,"aria-hidden":!0,style:Object.assign(Object.assign({},t.style),{background:s,opacity:m,display:i?void 0:"none"}),onClick:f=>{var u;f.target===f.currentTarget&&((u=t.onMaskClick)===null||u===void 0||u.call(t,f))}},t.onMaskClick&&a.createElement("div",{className:`${T}-aria-button`,role:"button","aria-label":n.Mask.name,onClick:t.onMaskClick}),a.createElement("div",{className:`${T}-content`},t.children))));return a.createElement(ee,{active:i,forceRender:t.forceRender,destroyOnClose:t.destroyOnClose},Ee(t.getContainer,l))};function _e(e){return o.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},e,{style:Object.assign({verticalAlign:"-0.125em"},e.style),className:["antd-mobile-icon",e.className].filter(Boolean).join(" ")}),o.createElement("g",{id:"CheckOutline-CheckOutline",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},o.createElement("g",{id:"CheckOutline-编组"},o.createElement("rect",{id:"CheckOutline-矩形",fill:"#FFFFFF",opacity:0,x:0,y:0,width:48,height:48}),o.createElement("path",{d:"M44.309608,12.6841286 L21.2180499,35.5661955 L21.2180499,35.5661955 C20.6343343,36.1446015 19.6879443,36.1446015 19.1042286,35.5661955 C19.0538201,35.5162456 19.0077648,35.4636155 18.9660627,35.4087682 C18.9113105,35.368106 18.8584669,35.3226694 18.808302,35.2729607 L3.6903839,20.2920499 C3.53346476,20.1365529 3.53231192,19.8832895 3.68780898,19.7263704 C3.7629255,19.6505669 3.86521855,19.6079227 3.97193622,19.6079227 L7.06238923,19.6079227 C7.16784214,19.6079227 7.26902895,19.6495648 7.34393561,19.7237896 L20.160443,32.4236157 L20.160443,32.4236157 L40.656066,12.115858 C40.7309719,12.0416387 40.8321549,12 40.9376034,12 L44.0280571,12 C44.248971,12 44.4280571,12.1790861 44.4280571,12.4 C44.4280571,12.5067183 44.3854124,12.609012 44.309608,12.6841286 Z",id:"CheckOutline-路径",fill:"currentColor",fillRule:"nonzero"}))))}function Le(e){return o.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},e,{style:Object.assign({verticalAlign:"-0.125em"},e.style),className:["antd-mobile-icon",e.className].filter(Boolean).join(" ")}),o.createElement("g",{id:"CloseOutline-CloseOutline",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},o.createElement("g",{id:"CloseOutline-编组"},o.createElement("rect",{id:"CloseOutline-矩形",fill:"#FFFFFF",opacity:0,x:0,y:0,width:48,height:48}),o.createElement("path",{d:"M10.6085104,8.11754663 L24.1768397,21.8195031 L24.1768397,21.8195031 L37.7443031,8.1175556 C37.8194278,8.04168616 37.9217669,7.999 38.0285372,7.999 L41.1040268,7.999 C41.3249407,7.999 41.5040268,8.1780861 41.5040268,8.399 C41.5040268,8.50440471 41.4624226,8.60554929 41.3882578,8.68044752 L26.2773302,23.9408235 L26.2773302,23.9408235 L41.5021975,39.3175645 C41.65763,39.4745475 41.6563731,39.7278104 41.4993901,39.8832429 C41.4244929,39.9574004 41.3233534,39.999 41.2179546,39.999 L38.1434012,39.999 C38.0366291,39.999 37.9342885,39.9563124 37.8591634,39.8804408 L24.1768397,26.0621438 L24.1768397,26.0621438 L10.4936501,39.8804497 C10.4185257,39.9563159 10.3161889,39.999 10.2094212,39.999 L7.13584526,39.999 C6.91493136,39.999 6.73584526,39.8199139 6.73584526,39.599 C6.73584526,39.4936017 6.77744443,39.3924627 6.85160121,39.3175656 L22.0763492,23.9408235 L22.0763492,23.9408235 L6.96554081,8.68044639 C6.81010226,8.52346929 6.81134951,8.27020637 6.9683266,8.11476782 C7.04322474,8.04060377 7.14436883,7.999 7.24977299,7.999 L10.3242852,7.999 C10.4310511,7.999 10.5333863,8.04168267 10.6085104,8.11754663 Z",id:"CloseOutline-路径",fill:"currentColor",fillRule:"nonzero"}))))}const L=Object.assign({},Z),{version:$e,render:Oe,unmountComponentAtNode:Ne}=L;let N;try{Number(($e||"").split(".")[0])>=18&&L.createRoot&&(N=L.createRoot)}catch{}function Y(e){const{__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:t}=L;t&&typeof t=="object"&&(t.usingClientEntryPoint=e)}const $="__antd_mobile_root__";function Se(e,t){Oe(e,t)}function Te(e,t){Y(!0);const n=t[$]||N(t);Y(!1),n.render(e),t[$]=n}function Pe(e,t){if(N){Te(e,t);return}Se(e,t)}function Me(e){return Ne(e)}function xe(e){return I(this,void 0,void 0,function*(){return Promise.resolve().then(()=>{var t;(t=e[$])===null||t===void 0||t.unmount(),delete e[$]})})}function Fe(e){return N?xe(e):Me(e)}function De(e){const t=document.createElement("div");document.body.appendChild(t);function n(){Fe(t)&&t.parentNode&&t.parentNode.removeChild(t)}return Pe(e,t),n}function z(e){const t=a.forwardRef((s,i)=>{const[r,d]=o.useState(!1),m=o.useRef(!1),[l,f]=o.useState(e),u=o.useRef(0);o.useEffect(()=>{m.current?h():d(!0)},[]);function p(){var E,C;m.current=!0,d(!1),(C=(E=l.props).onClose)===null||C===void 0||C.call(E)}function h(){var E,C;c(),(C=(E=l.props).afterClose)===null||C===void 0||C.call(E)}return o.useImperativeHandle(i,()=>({close:p,replace:E=>{var C,S;u.current++,(S=(C=l.props).afterClose)===null||S===void 0||S.call(C),f(E)}})),a.cloneElement(l,Object.assign(Object.assign({},l.props),{key:u.current,visible:r,onClose:p,afterClose:h}))}),n=a.createRef(),c=De(a.createElement(t,{ref:n}));return{close:()=>I(this,void 0,void 0,function*(){var s,i,r;n.current?(r=n.current)===null||r===void 0||r.close():(c(),(i=(s=e.props).afterClose)===null||i===void 0||i.call(s))}),replace:s=>{var i;(i=n.current)===null||i===void 0||i.replace(s)},isRendered:()=>!!n.current}}const H="adm-auto-center",Ie=e=>R(e,a.createElement("div",{className:H},a.createElement("div",{className:`${H}-content`},e.children)));function P(e){return typeof e=="number"?`${e}px`:e}function je(e){return!!e&&typeof e=="object"&&typeof e.then=="function"}function rt(){return O?/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase()):!1}const g="adm-button",Ae={color:"default",fill:"solid",block:!1,loading:!1,loadingIcon:a.createElement(te,{color:"currentColor"}),type:"button",shape:"default",size:"middle"},st=o.forwardRef((e,t)=>{const n=y(Ae,e),[c,s]=o.useState(!1),i=o.useRef(null),r=n.loading==="auto"?c:n.loading,d=n.disabled||r;o.useImperativeHandle(t,()=>({get nativeElement(){return i.current}}));const m=l=>I(void 0,void 0,void 0,function*(){if(!n.onClick)return;const f=n.onClick(l);if(je(f))try{s(!0),yield f,s(!1)}catch(u){throw s(!1),u}});return R(n,a.createElement("button",{ref:i,type:n.type,onClick:m,className:w(g,{[`${g}-${n.color}`]:n.color,[`${g}-block`]:n.block,[`${g}-disabled`]:d,[`${g}-fill-outline`]:n.fill==="outline",[`${g}-fill-none`]:n.fill==="none",[`${g}-mini`]:n.size==="mini",[`${g}-small`]:n.size==="small",[`${g}-large`]:n.size==="large",[`${g}-loading`]:r},`${g}-shape-${n.shape}`),disabled:d,onMouseDown:n.onMouseDown,onMouseUp:n.onMouseUp,onTouchStart:n.onTouchStart,onTouchEnd:n.onTouchEnd},r?a.createElement("div",{className:`${g}-loading-wrapper`},n.loadingIcon,n.loadingText):a.createElement("span",null,n.children)))});let Be=!1;const U=new Set;function W(){return Be}function Ye(e){return U.add(e),()=>{U.delete(e)}}function ze(){return q.useSyncExternalStore(Ye,W,W)}const M="adm-spin-loading",He={default:"var(--adm-color-weak)",primary:"var(--adm-color-primary)",white:"var(--adm-color-white)"},Ue={color:"default"},We=15*3.14159265358979*2,Xe=o.memo(e=>{var t;const n=y(Ue,e),c=ze(),{percent:s}=X({cancel:c,loop:{reverse:!0},from:{percent:80},to:{percent:30},config:{duration:1200}});return R(n,a.createElement(F.div,{className:M,style:{"--color":(t=He[n.color])!==null&&t!==void 0?t:n.color,"--percent":s}},a.createElement("svg",{className:`${M}-svg`,viewBox:"0 0 32 32"},a.createElement(F.circle,{className:`${M}-fill`,fill:"transparent",strokeWidth:"2",strokeDasharray:We,strokeDashoffset:s,strokeLinecap:"square",r:15,cx:16,cy:16}))))}),V="adm-grid",Ve=e=>{const t={"--columns":e.columns.toString()},{gap:n}=e;return n!==void 0&&(Array.isArray(n)?(t["--gap-horizontal"]=P(n[0]),t["--gap-vertical"]=P(n[1])):t["--gap"]=P(n)),R(e,a.createElement("div",{className:V,style:t},e.children))},Ge=e=>{const t=y({span:1},e),n={"--item-span":t.span};return R(t,a.createElement("div",{className:`${V}-item`,style:n,onClick:t.onClick},t.children))},ct=ne(Ve,{Item:Ge}),b="adm-toast",Ke={maskClickable:!0,stopPropagation:["click"]},Ze=e=>{const t=y(Ke,e),{maskClickable:n,content:c,icon:s,position:i}=t,r=o.useMemo(()=>{if(s==null)return null;switch(s){case"success":return a.createElement(_e,{className:`${b}-icon-success`});case"fail":return a.createElement(Le,{className:`${b}-icon-fail`});case"loading":return a.createElement(Xe,{color:"white",className:`${b}-loading`});default:return s}},[s]),d=o.useMemo(()=>{switch(i){case"top":return"20%";case"bottom":return"80%";default:return"50%"}},[i]);return a.createElement(we,{visible:t.visible,destroyOnClose:!0,opacity:0,disableBodyScroll:!n,getContainer:t.getContainer,afterClose:t.afterClose,style:Object.assign({pointerEvents:n?"none":"auto"},t.maskStyle),className:w(`${b}-mask`,t.maskClassName),stopPropagation:t.stopPropagation},a.createElement("div",{className:w(`${b}-wrap`)},a.createElement("div",{style:{top:d},className:w(`${b}-main`,s?`${b}-main-icon`:`${b}-main-text`)},r&&a.createElement("div",{className:`${b}-icon`},r),a.createElement(Ie,null,c))))};let v=null,x=null;const _={duration:2e3,position:"center",maskClickable:!0},qe=e=>a.createElement(Ze,Object.assign({},e));function Je(e){var t;const n=y(_,typeof e=="string"?{content:e}:e),c=a.createElement(qe,Object.assign({},n,{onClose:()=>{v=null}}));return v?!((t=v.isRendered)===null||t===void 0)&&t.call(v)?v.replace(c):(v.close(),v=z(c)):v=z(c),x&&window.clearTimeout(x),n.duration!==0&&(x=window.setTimeout(()=>{G()},n.duration)),v}function G(){v==null||v.close(),v=null}function Qe(e){e.duration!==void 0&&(_.duration=e.duration),e.position!==void 0&&(_.position=e.position),e.maskClickable!==void 0&&(_.maskClickable=e.maskClickable)}const it={show:Je,clear:G,config:Qe};export{Ie as A,st as B,Le as C,ct as G,we as M,Xe as S,it as T,se as a,ot as b,ie as c,De as d,z as e,pe as f,ce as g,ge as h,ae as i,rt as j,Ee as r,D as s,P as t,re as u,be as w};
