import{o as u,r,j as e,B as x,C as g}from"./index-f1YMPRds.js";import{U as n}from"./JWTUtils-DLG_3aPf.js";import{l as f}from"./commonRequest-DePIvHTL.js";import{M as h}from"./index-DiwL6sTj.js";import{R as o}from"./index-DjcRm9lm.js";import{S as j}from"./index-D_7exumZ.js";import{I as y}from"./index-BUIwELm1.js";import"./index-C0RmN517.js";import"./myAxios-BIVIHpI2.js";import"./PurePanel-_rSNh8S4.js";import"./useMergedState-DTxgtxFb.js";import"./useBubbleLock-Prx6ZIzH.js";import"./useForm-BUcPPhQn.js";import"./index-BzYRzDzH.js";import"./BaseInput-MPvJHzzE.js";import"./TextArea-BeCUnayI.js";import"./SearchOutlined-Cmz87yFm.js";const v=()=>{const[p,m]=r.useState(void 0),[s,i]=r.useState(void 0),[c,d]=r.useState(!1),a=r.useRef(null);r.useEffect(()=>{n.openModal&&window.setTimeout(()=>{var t;return(t=a.current)==null?void 0:t.focus()},100)},[n.openModal]);const l=async()=>{if((s==null?void 0:s.length)!==6)return g.msg.error("验证码格式有误");await f(s,p,d)&&(i(void 0),n.setOpenModal(!1))};return e.jsx(h,{zIndex:1001,open:n.openModal,onCancel:()=>n.setOpenModal(!1),footer:e.jsx(e.Fragment,{}),children:e.jsxs("span",{style:{textAlign:"center",display:"block",margin:"0 auto"},children:[e.jsx("p",{style:{fontSize:20},children:"请使用微信扫一扫关注(仰晨)登录"}),e.jsx("img",{src:"/wxGzh.jpg",alt:"仰晨公众号二维码"}),e.jsxs(o.Group,{defaultValue:"yt",size:"small",style:{marginBottom:5},onChange:t=>m(t.target.value),children:[e.jsx(o.Button,{disabled:!0,style:{color:"#85a2c7"},children:"登录有效时长:"}),e.jsx(o.Button,{value:"bt",children:"半天"}),e.jsx(o.Button,{value:"yt",children:"一天"}),e.jsx(o.Button,{value:"yz",children:"一周"}),e.jsx(o.Button,{value:"yy",children:"一个月"}),e.jsx(o.Button,{value:"yn",children:"一年"})]}),e.jsxs(j.Compact,{style:{width:"80%"},size:"large",children:[e.jsx(y,{placeholder:"请输入验证码",value:s,onChange:t=>i(t.target.value),onPressEnter:l,ref:a}),e.jsx(x,{type:"primary",onClick:l,loading:c,children:"验证登录"})]}),e.jsxs("p",{style:{color:"#fa5555"},children:["如已关注，请回复“",e.jsx("strong",{children:"登录"}),"”二字获取验证码进行登录"]})]})})},F=u(v);export{F as default};
