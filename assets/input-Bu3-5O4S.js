import{g,u as x,b as S,j as P}from"./index-Bvxbv0fR.js";import{v as R,m as w,w as E,u as $}from"./index-DLCjuoeY.js";import{r as u,s as f,f as b}from"./index-A5yLZ6sE.js";import{e as A,u as I}from"./index--PGS_ZZL.js";var N=function(n){return n.every(function(r){var o=g(r);return o?o.getRootNode()instanceof ShadowRoot:!1})},K=function(n){return n?n.getRootNode():document},O=function(n){if(!n||!document.getRootNode)return document;var r=Array.isArray(n)?n:[n];return N(r)?K(g(r[0])):document};function T(n,r,o){o===void 0&&(o="click");var i=x(n);S(function(){var e=function(c){var h=Array.isArray(r)?r:[r];h.some(function(v){var s=g(v);return!s||s.contains(c.target)})||i.current(c)},l=O(r),d=Array.isArray(o)?o:[o];return d.forEach(function(c){return l.addEventListener(c,e)}),function(){d.forEach(function(c){return l.removeEventListener(c,e)})}},Array.isArray(o)?o:[o],r)}function _(n){return u.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},n,{style:Object.assign({verticalAlign:"-0.125em"},n.style),className:["antd-mobile-icon",n.className].filter(Boolean).join(" ")}),u.createElement("g",{id:"CloseCircleFill-CloseCircleFill",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},u.createElement("g",{id:"CloseCircleFill-编组"},u.createElement("rect",{id:"CloseCircleFill-矩形",fill:"#FFFFFF",opacity:0,x:0,y:0,width:48,height:48}),u.createElement("path",{d:"M24,2 C36.1502645,2 46,11.8497355 46,24 C46,36.1502645 36.1502645,46 24,46 C11.8497355,46 2,36.1502645 2,24 C2,11.8497355 11.8497355,2 24,2 Z M18.6753876,16 L15.5637812,16 C15.4576916,16 15.3559474,16.0421451 15.2809323,16.1171635 C15.124726,16.2733766 15.1247316,16.5266426 15.2809447,16.6828489 L15.2809447,16.6828489 L22.299066,23.7006641 L14.6828159,31.3171619 C14.6078042,31.3921761 14.5656632,31.4939157 14.5656632,31.6 C14.5656632,31.8209139 14.7447493,32 14.9656632,32 L14.9656632,32 L18.0753284,32 C18.1814068,32 18.2831412,31.9578638 18.3581544,31.8828594 L18.3581544,31.8828594 L24.420066,25.8216641 L30.4818451,31.8828564 C30.5568585,31.9578626 30.6585942,32 30.7646741,32 L30.7646741,32 L33.8763476,32 C33.9824309,32 34.0841695,31.9578599 34.1591835,31.8828496 C34.315397,31.7266436 34.3154031,31.4733776 34.1591972,31.3171641 L34.1591972,31.3171641 L26.542066,23.6996641 L33.5591874,16.6828489 C33.6342057,16.6078338 33.6763508,16.5060896 33.6763508,16.4 C33.6763508,16.1790861 33.4972647,16 33.2763508,16 L33.2763508,16 L30.1637654,16 C30.0576705,16 29.9559218,16.0421493 29.8809058,16.1171741 L29.8809058,16.1171741 L24.420066,21.5786641 L18.9582218,16.1171488 C18.883208,16.0421394 18.7814701,16 18.6753876,16 L18.6753876,16 Z",id:"CloseCircleFill-形状结合",fill:"currentColor",fillRule:"nonzero"}))))}function j(n,r,o){let i=n;return r!==void 0&&(i=Math.max(n,r)),o!==void 0&&(i=Math.min(i,o)),i}let C=null,p=null;R&&(C=document.createElement("div"),C.className="adm-px-tester",C.style.setProperty("--size","10"),document.body.appendChild(C),p=document.createElement("div"),p.className="adm-px-tester",document.body.appendChild(p));function U(n){return C===null||p===null||C.getBoundingClientRect().height===10?n:(p.style.setProperty("--size",n.toString()),p.getBoundingClientRect().height)}const m="adm-space",B={direction:"horizontal"},Z=n=>{const r=w(B,n),{direction:o,onClick:i}=r;return E(r,f.createElement("div",{className:b(m,{[`${m}-wrap`]:r.wrap,[`${m}-block`]:r.block,[`${m}-${o}`]:!0,[`${m}-align-${r.align}`]:!!r.align,[`${m}-justify-${r.justify}`]:!!r.justify}),onClick:i},f.Children.map(r.children,e=>e!=null&&f.createElement("div",{className:`${m}-item`},e))))};function D({onEnterPress:n,onKeyDown:r,nativeInputRef:o,enterKeyHint:i}){const e=l=>{n&&(l.code==="Enter"||l.keyCode===13)&&n(l),r?.(l)};return A(()=>{const l=o.current;if(!(!i||!l))return l.setAttribute("enterkeyhint",i),()=>{l.removeAttribute("enterkeyhint")}},[i]),e}const y="adm-input",M={defaultValue:"",clearIcon:f.createElement(_,null),onlyShowClearWhenFocus:!0},X=u.forwardRef((n,r)=>{const{locale:o,input:i={}}=I(),e=w(M,i,n),[l,d]=$(e),[c,h]=u.useState(!1),v=u.useRef(!1),s=u.useRef(null),L=D({onEnterPress:e.onEnterPress,onKeyDown:e.onKeyDown,nativeInputRef:s,enterKeyHint:e.enterKeyHint});u.useImperativeHandle(r,()=>({clear:()=>{d("")},focus:()=>{var t;(t=s.current)===null||t===void 0||t.focus()},blur:()=>{var t;(t=s.current)===null||t===void 0||t.blur()},get nativeElement(){return s.current}}));function F(){let t=l;if(e.type==="number"){const a=t&&j(parseFloat(t),e.min,e.max).toString();Number(t)!==Number(a)&&(t=a)}t!==l&&d(t)}const k=!e.clearable||!l||e.readOnly?!1:e.onlyShowClearWhenFocus?c:!0;return E(e,f.createElement("div",{className:b(`${y}`,e.disabled&&`${y}-disabled`)},f.createElement("input",{ref:s,className:`${y}-element`,value:l,onChange:t=>{d(t.target.value)},onFocus:t=>{var a;h(!0),(a=e.onFocus)===null||a===void 0||a.call(e,t)},onBlur:t=>{var a;h(!1),F(),(a=e.onBlur)===null||a===void 0||a.call(e,t)},onPaste:e.onPaste,id:e.id,placeholder:e.placeholder,disabled:e.disabled,readOnly:e.readOnly,maxLength:e.maxLength,minLength:e.minLength,max:e.max,min:e.min,autoComplete:e.autoComplete,enterKeyHint:e.enterKeyHint,autoFocus:e.autoFocus,pattern:e.pattern,inputMode:e.inputMode,type:e.type,name:e.name,autoCapitalize:e.autoCapitalize,autoCorrect:e.autoCorrect,onKeyDown:L,onKeyUp:e.onKeyUp,onCompositionStart:t=>{var a;v.current=!0,(a=e.onCompositionStart)===null||a===void 0||a.call(e,t)},onCompositionEnd:t=>{var a;v.current=!1,(a=e.onCompositionEnd)===null||a===void 0||a.call(e,t)},onClick:e.onClick,step:e.step,role:e.role,"aria-valuenow":e["aria-valuenow"],"aria-valuemax":e["aria-valuemax"],"aria-valuemin":e["aria-valuemin"],"aria-label":e["aria-label"]}),k&&f.createElement("div",{className:`${y}-clear`,onMouseDown:t=>{t.preventDefault()},onClick:()=>{var t,a;d(""),(t=e.onClear)===null||t===void 0||t.call(e),P()&&v.current&&(v.current=!1,(a=s.current)===null||a===void 0||a.blur())},"aria-label":o.Input.clear},e.clearIcon)))});export{X as I,Z as S,D as a,j as b,U as c,T as u};
