import{r as o,c as ne,Q as Ma,f as Ca,b as B,T as sr,g as x,a5 as Sa,aM as Da,bI as Na,O as La,aB as Ta,ao as Xr,bJ as ia,aF as ka,D as sa,E as Wa,bB as za,U as wa}from"./index-f1YMPRds.js";import{R as ba}from"./useMergedState-DTxgtxFb.js";import{i as $a}from"./isMobile-DjGTsQxe.js";function Pa(r){var n;return r==null||(n=r.getRootNode)===null||n===void 0?void 0:n.call(r)}function Ba(r){return Pa(r)instanceof ShadowRoot}function ua(r){return Ba(r)?Pa(r):null}function Ha(r){var n=r.prefixCls,e=r.align,t=r.arrow,u=r.arrowPos,v=t||{},c=v.className,f=v.content,g=u.x,y=g===void 0?0:g,H=u.y,m=H===void 0?0:H,w=o.useRef();if(!e||!e.points)return null;var s={position:"absolute"};if(e.autoArrow!==!1){var S=e.points[0],z=e.points[1],L=S[0],D=S[1],F=z[0],T=z[1];L===F||!["t","b"].includes(L)?s.top=m:L==="t"?s.top=0:s.bottom=0,D===T||!["l","r"].includes(D)?s.left=y:D==="l"?s.left=0:s.right=0}return o.createElement("div",{ref:w,className:ne("".concat(n,"-arrow"),c),style:s},f)}function Fa(r){var n=r.prefixCls,e=r.open,t=r.zIndex,u=r.mask,v=r.motion;return u?o.createElement(Ma,Ca({},v,{motionAppear:!0,visible:e,removeOnLeave:!0}),function(c){var f=c.className;return o.createElement("div",{style:{zIndex:t},className:ne("".concat(n,"-mask"),f)})}):null}var Ea=o.memo(function(r){var n=r.children;return n},function(r,n){return n.cache}),Ra=o.forwardRef(function(r,n){var e=r.popup,t=r.className,u=r.prefixCls,v=r.style,c=r.target,f=r.onVisibleChanged,g=r.open,y=r.keepDom,H=r.fresh,m=r.onClick,w=r.mask,s=r.arrow,S=r.arrowPos,z=r.align,L=r.motion,D=r.maskMotion,F=r.forceRender,T=r.getPopupContainer,J=r.autoDestroy,q=r.portal,l=r.zIndex,wr=r.onMouseEnter,cr=r.onMouseLeave,Er=r.onPointerEnter,br=r.onPointerDownCapture,Rr=r.ready,fr=r.offsetX,dr=r.offsetY,or=r.offsetR,hr=r.offsetB,W=r.onAlign,E=r.onPrepare,d=r.stretch,er=r.targetWidth,Q=r.targetHeight,A=typeof e=="function"?e():e,h=g||y,Pr=(T==null?void 0:T.length)>0,te=o.useState(!T||!Pr),Sr=B(te,2),I=Sr[0],oe=Sr[1];if(sr(function(){!I&&Pr&&c&&oe(!0)},[I,Pr,c]),!I)return null;var ir="auto",G={left:"-1000vw",top:"-1000vh",right:ir,bottom:ir};if(Rr||!g){var xr,Ar=z.points,Dr=z.dynamicInset||((xr=z._experimental)===null||xr===void 0?void 0:xr.dynamicInset),ur=Dr&&Ar[0][1]==="r",_=Dr&&Ar[0][0]==="b";ur?(G.right=or,G.left=ir):(G.left=fr,G.right=ir),_?(G.bottom=hr,G.top=ir):(G.top=dr,G.bottom=ir)}var V={};return d&&(d.includes("height")&&Q?V.height=Q:d.includes("minHeight")&&Q&&(V.minHeight=Q),d.includes("width")&&er?V.width=er:d.includes("minWidth")&&er&&(V.minWidth=er)),g||(V.pointerEvents="none"),o.createElement(q,{open:F||h,getContainer:T&&function(){return T(c)},autoDestroy:J},o.createElement(Fa,{prefixCls:u,open:g,zIndex:l,mask:w,motion:D}),o.createElement(ba,{onResize:W,disabled:!g},function(mr){return o.createElement(Ma,Ca({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:F,leavedClassName:"".concat(u,"-hidden")},L,{onAppearPrepare:E,onEnterPrepare:E,visible:g,onVisibleChanged:function(Lr){var K;L==null||(K=L.onVisibleChanged)===null||K===void 0||K.call(L,Lr),f(Lr)}}),function(Nr,Lr){var K=Nr.className,Vr=Nr.style,X=ne(u,K,t);return o.createElement("div",{ref:Sa(mr,n,Lr),className:X,style:x(x(x(x({"--arrow-x":"".concat(S.x||0,"px"),"--arrow-y":"".concat(S.y||0,"px")},G),V),Vr),{},{boxSizing:"border-box",zIndex:l},v),onMouseEnter:wr,onMouseLeave:cr,onPointerEnter:Er,onClick:m,onPointerDownCapture:br},s&&o.createElement(Ha,{prefixCls:u,arrow:s,arrowPos:S,align:z}),o.createElement(Ea,{cache:!g&&!H},A))})}))}),xa=o.forwardRef(function(r,n){var e=r.children,t=r.getTriggerDOMNode,u=Da(e),v=o.useCallback(function(f){Na(n,t?t(f):f)},[t]),c=La(v,Ta(e));return u?o.cloneElement(e,{ref:c}):e}),ca=o.createContext(null);function fa(r){return r?Array.isArray(r)?r:[r]:[]}function Aa(r,n,e,t){return o.useMemo(function(){var u=fa(e??n),v=fa(t??n),c=new Set(u),f=new Set(v);return r&&(c.has("hover")&&(c.delete("hover"),c.add("click")),f.has("hover")&&(f.delete("hover"),f.add("click"))),[c,f]},[r,n,e,t])}function Va(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],e=arguments.length>2?arguments[2]:void 0;return e?r[0]===n[0]:r[0]===n[0]&&r[1]===n[1]}function Ua(r,n,e,t){for(var u=e.points,v=Object.keys(r),c=0;c<v.length;c+=1){var f,g=v[c];if(Va((f=r[g])===null||f===void 0?void 0:f.points,u,t))return"".concat(n,"-placement-").concat(g)}return""}function da(r,n,e,t){return n||(e?{motionName:"".concat(r,"-").concat(e)}:t?{motionName:t}:null)}function ge(r){return r.ownerDocument.defaultView}function la(r){for(var n=[],e=r==null?void 0:r.parentElement,t=["hidden","scroll","clip","auto"];e;){var u=ge(e).getComputedStyle(e),v=u.overflowX,c=u.overflowY,f=u.overflow;[v,c,f].some(function(g){return t.includes(g)})&&n.push(e),e=e.parentElement}return n}function me(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(r)?n:r}function he(r){return me(parseFloat(r),0)}function ha(r,n){var e=x({},r);return(n||[]).forEach(function(t){if(!(t instanceof HTMLBodyElement||t instanceof HTMLHtmlElement)){var u=ge(t).getComputedStyle(t),v=u.overflow,c=u.overflowClipMargin,f=u.borderTopWidth,g=u.borderBottomWidth,y=u.borderLeftWidth,H=u.borderRightWidth,m=t.getBoundingClientRect(),w=t.offsetHeight,s=t.clientHeight,S=t.offsetWidth,z=t.clientWidth,L=he(f),D=he(g),F=he(y),T=he(H),J=me(Math.round(m.width/S*1e3)/1e3),q=me(Math.round(m.height/w*1e3)/1e3),l=(S-z-F-T)*J,wr=(w-s-L-D)*q,cr=L*q,Er=D*q,br=F*J,Rr=T*J,fr=0,dr=0;if(v==="clip"){var or=he(c);fr=or*J,dr=or*q}var hr=m.x+br-fr,W=m.y+cr-dr,E=hr+m.width+2*fr-br-Rr-l,d=W+m.height+2*dr-cr-Er-wr;e.left=Math.max(e.left,hr),e.top=Math.max(e.top,W),e.right=Math.min(e.right,E),e.bottom=Math.min(e.bottom,d)}}),e}function ma(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,e="".concat(n),t=e.match(/^(.*)\%$/);return t?r*(parseFloat(t[1])/100):parseFloat(e)}function ga(r,n){var e=n||[],t=B(e,2),u=t[0],v=t[1];return[ma(r.width,u),ma(r.height,v)]}function ya(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[r[0],r[1]]}function ae(r,n){var e=n[0],t=n[1],u,v;return e==="t"?v=r.y:e==="b"?v=r.y+r.height:v=r.y+r.height/2,t==="l"?u=r.x:t==="r"?u=r.x+r.width:u=r.x+r.width/2,{x:u,y:v}}function Fr(r,n){var e={t:"b",b:"t",l:"r",r:"l"};return r.map(function(t,u){return u===n?e[t]||"c":t}).join("")}function ja(r,n,e,t,u,v,c){var f=o.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:u[t]||{}}),g=B(f,2),y=g[0],H=g[1],m=o.useRef(0),w=o.useMemo(function(){return n?la(n):[]},[n]),s=o.useRef({}),S=function(){s.current={}};r||S();var z=Xr(function(){if(n&&e&&r){let rr=function(de,Cr){var _r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ie,Re=h.x+de,xe=h.y+Cr,na=Re+_,ta=xe+ur,a=Math.max(Re,_r.left),i=Math.max(xe,_r.top),b=Math.min(na,_r.right),k=Math.min(ta,_r.bottom);return Math.max(0,(b-a)*(k-i))},ee=function(){Wr=h.y+P,zr=Wr+ur,qr=h.x+C,Mr=qr+_};var F,T,J,q,l=n,wr=l.ownerDocument,cr=ge(l),Er=cr.getComputedStyle(l),br=Er.position,Rr=l.style.left,fr=l.style.top,dr=l.style.right,or=l.style.bottom,hr=l.style.overflow,W=x(x({},u[t]),v),E=wr.createElement("div");(F=l.parentElement)===null||F===void 0||F.appendChild(E),E.style.left="".concat(l.offsetLeft,"px"),E.style.top="".concat(l.offsetTop,"px"),E.style.position=br,E.style.height="".concat(l.offsetHeight,"px"),E.style.width="".concat(l.offsetWidth,"px"),l.style.left="0",l.style.top="0",l.style.right="auto",l.style.bottom="auto",l.style.overflow="hidden";var d;if(Array.isArray(e))d={x:e[0],y:e[1],width:0,height:0};else{var er,Q,A=e.getBoundingClientRect();A.x=(er=A.x)!==null&&er!==void 0?er:A.left,A.y=(Q=A.y)!==null&&Q!==void 0?Q:A.top,d={x:A.x,y:A.y,width:A.width,height:A.height}}var h=l.getBoundingClientRect(),Pr=cr.getComputedStyle(l),te=Pr.height,Sr=Pr.width;h.x=(T=h.x)!==null&&T!==void 0?T:h.left,h.y=(J=h.y)!==null&&J!==void 0?J:h.top;var I=wr.documentElement,oe=I.clientWidth,ir=I.clientHeight,G=I.scrollWidth,xr=I.scrollHeight,Ar=I.scrollTop,Dr=I.scrollLeft,ur=h.height,_=h.width,V=d.height,mr=d.width,Nr={left:0,top:0,right:oe,bottom:ir},Lr={left:-Dr,top:-Ar,right:G-Dr,bottom:xr-Ar},K=W.htmlRegion,Vr="visible",X="visibleFirst";K!=="scroll"&&K!==X&&(K=Vr);var Ur=K===X,Ue=ha(Lr,w),M=ha(Nr,w),ie=K===Vr?M:Ue,$=Ur?M:ie;l.style.left="auto",l.style.top="auto",l.style.right="0",l.style.bottom="0";var ye=l.getBoundingClientRect();l.style.left=Rr,l.style.top=fr,l.style.right=dr,l.style.bottom=or,l.style.overflow=hr,(q=l.parentElement)===null||q===void 0||q.removeChild(E);var gr=me(Math.round(_/parseFloat(Sr)*1e3)/1e3),Tr=me(Math.round(ur/parseFloat(te)*1e3)/1e3);if(gr===0||Tr===0||ia(e)&&!ka(e))return;var je=W.offset,Me=W.targetOffset,lr=ga(h,je),Ce=B(lr,2),Y=Ce[0],ar=Ce[1],Yr=ga(d,Me),Z=B(Yr,2),kr=Z[0],Je=Z[1];d.x-=kr,d.y-=Je;var qe=W.points||[],we=B(qe,2),Qe=we[0],be=we[1],yr=ya(be),U=ya(Qe),R=ae(d,yr),Pe=ae(h,U),O=x({},W),C=R.x-Pe.x+Y,P=R.y-Pe.y+ar,nr=rr(C,P),jr=rr(C,P,M),p=ae(d,["t","l"]),Se=ae(h,["t","l"]),ue=ae(d,["b","r"]),Or=ae(h,["b","r"]),Jr=W.overflow||{},Ge=Jr.adjustX,De=Jr.adjustY,pr=Jr.shiftX,le=Jr.shiftY,Ne=function(Cr){return typeof Cr=="boolean"?Cr:Cr>=0},Wr,zr,qr,Mr;ee();var Le=Ne(De),j=U[0]===yr[0];if(Le&&U[0]==="t"&&(zr>$.bottom||s.current.bt)){var Qr=P;j?Qr-=ur-V:Qr=p.y-Or.y-ar;var Te=rr(C,Qr),Ke=rr(C,Qr,M);Te>nr||Te===nr&&(!Ur||Ke>=jr)?(s.current.bt=!0,P=Qr,ar=-ar,O.points=[Fr(U,0),Fr(yr,0)]):s.current.bt=!1}if(Le&&U[0]==="b"&&(Wr<$.top||s.current.tb)){var Gr=P;j?Gr+=ur-V:Gr=ue.y-Se.y-ar;var ke=rr(C,Gr),Ze=rr(C,Gr,M);ke>nr||ke===nr&&(!Ur||Ze>=jr)?(s.current.tb=!0,P=Gr,ar=-ar,O.points=[Fr(U,0),Fr(yr,0)]):s.current.tb=!1}var We=Ne(Ge),ze=U[1]===yr[1];if(We&&U[1]==="l"&&(Mr>$.right||s.current.rl)){var Kr=C;ze?Kr-=_-mr:Kr=p.x-Or.x-Y;var Zr=rr(Kr,P),ve=rr(Kr,P,M);Zr>nr||Zr===nr&&(!Ur||ve>=jr)?(s.current.rl=!0,C=Kr,Y=-Y,O.points=[Fr(U,1),Fr(yr,1)]):s.current.rl=!1}if(We&&U[1]==="r"&&(qr<$.left||s.current.lr)){var Ir=C;ze?Ir+=_-mr:Ir=ue.x-Se.x-Y;var se=rr(Ir,P),re=rr(Ir,P,M);se>nr||se===nr&&(!Ur||re>=jr)?(s.current.lr=!0,C=Ir,Y=-Y,O.points=[Fr(U,1),Fr(yr,1)]):s.current.lr=!1}ee();var tr=pr===!0?0:pr;typeof tr=="number"&&(qr<M.left&&(C-=qr-M.left-Y,d.x+mr<M.left+tr&&(C+=d.x-M.left+mr-tr)),Mr>M.right&&(C-=Mr-M.right-Y,d.x>M.right-tr&&(C+=d.x-M.right+tr)));var $r=le===!0?0:le;typeof $r=="number"&&(Wr<M.top&&(P-=Wr-M.top-ar,d.y+V<M.top+$r&&(P+=d.y-M.top+V-$r)),zr>M.bottom&&(P-=zr-M.bottom-ar,d.y>M.bottom-$r&&(P+=d.y-M.bottom+$r)));var Br=h.x+C,Hr=Br+_,ce=h.y+P,Ie=ce+ur,$e=d.x,Be=$e+mr,He=d.y,_e=He+V,Xe=Math.max(Br,$e),Fe=Math.min(Hr,Be),Ye=(Xe+Fe)/2,Oe=Ye-Br,Ee=Math.max(ce,He),pe=Math.min(Ie,_e),ra=(Ee+pe)/2,ea=ra-ce;c==null||c(n,O);var vr=ye.right-h.x-(C+h.width),fe=ye.bottom-h.y-(P+h.height);gr===1&&(C=Math.round(C),vr=Math.round(vr)),Tr===1&&(P=Math.round(P),fe=Math.round(fe));var aa={ready:!0,offsetX:C/gr,offsetY:P/Tr,offsetR:vr/gr,offsetB:fe/Tr,arrowX:Oe/gr,arrowY:ea/Tr,scaleX:gr,scaleY:Tr,align:O};H(aa)}}),L=function(){m.current+=1;var T=m.current;Promise.resolve().then(function(){m.current===T&&z()})},D=function(){H(function(T){return x(x({},T),{},{ready:!1})})};return sr(D,[t]),sr(function(){r||D()},[r]),[y.ready,y.offsetX,y.offsetY,y.offsetR,y.offsetB,y.arrowX,y.arrowY,y.scaleX,y.scaleY,y.align,L]}function Ja(r,n,e,t,u){sr(function(){if(r&&n&&e){let m=function(){t(),u()};var v=n,c=e,f=la(v),g=la(c),y=ge(c),H=new Set([y].concat(sa(f),sa(g)));return H.forEach(function(w){w.addEventListener("scroll",m,{passive:!0})}),y.addEventListener("resize",m,{passive:!0}),t(),function(){H.forEach(function(w){w.removeEventListener("scroll",m),y.removeEventListener("resize",m)})}}},[r,n,e])}function qa(r,n,e,t,u,v,c,f){var g=o.useRef(r);g.current=r;var y=o.useRef(!1);o.useEffect(function(){if(n&&t&&(!u||v)){var m=function(){y.current=!1},w=function(L){var D;g.current&&!c(((D=L.composedPath)===null||D===void 0||(D=D.call(L))===null||D===void 0?void 0:D[0])||L.target)&&!y.current&&f(!1)},s=ge(t);s.addEventListener("pointerdown",m,!0),s.addEventListener("mousedown",w,!0),s.addEventListener("contextmenu",w,!0);var S=ua(e);return S&&(S.addEventListener("mousedown",w,!0),S.addEventListener("contextmenu",w,!0)),function(){s.removeEventListener("pointerdown",m,!0),s.removeEventListener("mousedown",w,!0),s.removeEventListener("contextmenu",w,!0),S&&(S.removeEventListener("mousedown",w,!0),S.removeEventListener("contextmenu",w,!0))}}},[n,e,t,u,v]);function H(){y.current=!0}return H}var Qa=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function Ga(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:wa,n=o.forwardRef(function(e,t){var u=e.prefixCls,v=u===void 0?"rc-trigger-popup":u,c=e.children,f=e.action,g=f===void 0?"hover":f,y=e.showAction,H=e.hideAction,m=e.popupVisible,w=e.defaultPopupVisible,s=e.onPopupVisibleChange,S=e.afterPopupVisibleChange,z=e.mouseEnterDelay,L=e.mouseLeaveDelay,D=L===void 0?.1:L,F=e.focusDelay,T=e.blurDelay,J=e.mask,q=e.maskClosable,l=q===void 0?!0:q,wr=e.getPopupContainer,cr=e.forceRender,Er=e.autoDestroy,br=e.destroyPopupOnHide,Rr=e.popup,fr=e.popupClassName,dr=e.popupStyle,or=e.popupPlacement,hr=e.builtinPlacements,W=hr===void 0?{}:hr,E=e.popupAlign,d=e.zIndex,er=e.stretch,Q=e.getPopupClassNameFromAlign,A=e.fresh,h=e.alignPoint,Pr=e.onPopupClick,te=e.onPopupAlign,Sr=e.arrow,I=e.popupMotion,oe=e.maskMotion,ir=e.popupTransitionName,G=e.popupAnimation,xr=e.maskTransitionName,Ar=e.maskAnimation,Dr=e.className,ur=e.getTriggerDOMNode,_=Wa(e,Qa),V=Er||br||!1,mr=o.useState(!1),Nr=B(mr,2),Lr=Nr[0],K=Nr[1];sr(function(){K($a())},[]);var Vr=o.useRef({}),X=o.useContext(ca),Ur=o.useMemo(function(){return{registerSubPopup:function(i,b){Vr.current[i]=b,X==null||X.registerSubPopup(i,b)}}},[X]),Ue=za(),M=o.useState(null),ie=B(M,2),$=ie[0],ye=ie[1],gr=o.useRef(null),Tr=Xr(function(a){gr.current=a,ia(a)&&$!==a&&ye(a),X==null||X.registerSubPopup(Ue,a)}),je=o.useState(null),Me=B(je,2),lr=Me[0],Ce=Me[1],Y=o.useRef(null),ar=Xr(function(a){ia(a)&&lr!==a&&(Ce(a),Y.current=a)}),Yr=o.Children.only(c),Z=(Yr==null?void 0:Yr.props)||{},kr={},Je=Xr(function(a){var i,b,k=lr;return(k==null?void 0:k.contains(a))||((i=ua(k))===null||i===void 0?void 0:i.host)===a||a===k||($==null?void 0:$.contains(a))||((b=ua($))===null||b===void 0?void 0:b.host)===a||a===$||Object.values(Vr.current).some(function(N){return(N==null?void 0:N.contains(a))||a===N})}),qe=da(v,I,G,ir),we=da(v,oe,Ar,xr),Qe=o.useState(w||!1),be=B(Qe,2),yr=be[0],U=be[1],R=m??yr,Pe=Xr(function(a){m===void 0&&U(a)});sr(function(){U(m||!1)},[m]);var O=o.useRef(R);O.current=R;var C=o.useRef([]);C.current=[];var P=Xr(function(a){var i;Pe(a),((i=C.current[C.current.length-1])!==null&&i!==void 0?i:R)!==a&&(C.current.push(a),s==null||s(a))}),nr=o.useRef(),jr=function(){clearTimeout(nr.current)},p=function(i){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;jr(),b===0?P(i):nr.current=setTimeout(function(){P(i)},b*1e3)};o.useEffect(function(){return jr},[]);var Se=o.useState(!1),ue=B(Se,2),Or=ue[0],Jr=ue[1];sr(function(a){(!a||R)&&Jr(!0)},[R]);var Ge=o.useState(null),De=B(Ge,2),pr=De[0],le=De[1],Ne=o.useState(null),Wr=B(Ne,2),zr=Wr[0],qr=Wr[1],Mr=function(i){qr([i.clientX,i.clientY])},Le=ja(R,$,h&&zr!==null?zr:lr,or,W,E,te),j=B(Le,11),Qr=j[0],Te=j[1],Ke=j[2],Gr=j[3],ke=j[4],Ze=j[5],We=j[6],ze=j[7],Kr=j[8],Zr=j[9],ve=j[10],Ir=Aa(Lr,g,y,H),se=B(Ir,2),re=se[0],tr=se[1],$r=re.has("click"),Br=tr.has("click")||tr.has("contextMenu"),Hr=Xr(function(){Or||ve()}),ce=function(){O.current&&h&&Br&&p(!1)};Ja(R,lr,$,Hr,ce),sr(function(){Hr()},[zr,or]),sr(function(){R&&!(W!=null&&W[or])&&Hr()},[JSON.stringify(E)]);var Ie=o.useMemo(function(){var a=Ua(W,v,Zr,h);return ne(a,Q==null?void 0:Q(Zr))},[Zr,Q,W,v,h]);o.useImperativeHandle(t,function(){return{nativeElement:Y.current,popupElement:gr.current,forceAlign:Hr}});var $e=o.useState(0),Be=B($e,2),He=Be[0],_e=Be[1],Xe=o.useState(0),Fe=B(Xe,2),Ye=Fe[0],Oe=Fe[1],Ee=function(){if(er&&lr){var i=lr.getBoundingClientRect();_e(i.width),Oe(i.height)}},pe=function(){Ee(),Hr()},ra=function(i){Jr(!1),ve(),S==null||S(i)},ea=function(){return new Promise(function(i){Ee(),le(function(){return i})})};sr(function(){pr&&(ve(),pr(),le(null))},[pr]);function vr(a,i,b,k){kr[a]=function(N){var Ae;k==null||k(N),p(i,b);for(var oa=arguments.length,va=new Array(oa>1?oa-1:0),Ve=1;Ve<oa;Ve++)va[Ve-1]=arguments[Ve];(Ae=Z[a])===null||Ae===void 0||Ae.call.apply(Ae,[Z,N].concat(va))}}($r||Br)&&(kr.onClick=function(a){var i;O.current&&Br?p(!1):!O.current&&$r&&(Mr(a),p(!0));for(var b=arguments.length,k=new Array(b>1?b-1:0),N=1;N<b;N++)k[N-1]=arguments[N];(i=Z.onClick)===null||i===void 0||i.call.apply(i,[Z,a].concat(k))});var fe=qa(R,Br,lr,$,J,l,Je,p),aa=re.has("hover"),rr=tr.has("hover"),ee,de;aa&&(vr("onMouseEnter",!0,z,function(a){Mr(a)}),vr("onPointerEnter",!0,z,function(a){Mr(a)}),ee=function(i){(R||Or)&&$!==null&&$!==void 0&&$.contains(i.target)&&p(!0,z)},h&&(kr.onMouseMove=function(a){var i;(i=Z.onMouseMove)===null||i===void 0||i.call(Z,a)})),rr&&(vr("onMouseLeave",!1,D),vr("onPointerLeave",!1,D),de=function(){p(!1,D)}),re.has("focus")&&vr("onFocus",!0,F),tr.has("focus")&&vr("onBlur",!1,T),re.has("contextMenu")&&(kr.onContextMenu=function(a){var i;O.current&&tr.has("contextMenu")?p(!1):(Mr(a),p(!0)),a.preventDefault();for(var b=arguments.length,k=new Array(b>1?b-1:0),N=1;N<b;N++)k[N-1]=arguments[N];(i=Z.onContextMenu)===null||i===void 0||i.call.apply(i,[Z,a].concat(k))}),Dr&&(kr.className=ne(Z.className,Dr));var Cr=x(x({},Z),kr),_r={},Re=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];Re.forEach(function(a){_[a]&&(_r[a]=function(){for(var i,b=arguments.length,k=new Array(b),N=0;N<b;N++)k[N]=arguments[N];(i=Cr[a])===null||i===void 0||i.call.apply(i,[Cr].concat(k)),_[a].apply(_,k)})});var xe=o.cloneElement(Yr,x(x({},Cr),_r)),na={x:Ze,y:We},ta=Sr?x({},Sr!==!0?Sr:{}):null;return o.createElement(o.Fragment,null,o.createElement(ba,{disabled:!R,ref:ar,onResize:pe},o.createElement(xa,{getTriggerDOMNode:ur},xe)),o.createElement(ca.Provider,{value:Ur},o.createElement(Ra,{portal:r,ref:Tr,prefixCls:v,popup:Rr,className:ne(fr,Ie),style:dr,target:lr,onMouseEnter:ee,onMouseLeave:de,onPointerEnter:ee,zIndex:d,open:R,keepDom:Or,fresh:A,onClick:Pr,onPointerDownCapture:fe,mask:J,motion:qe,maskMotion:we,onVisibleChanged:ra,onPrepare:ea,forceRender:cr,autoDestroy:V,getPopupContainer:wr,align:Zr,arrow:ta,arrowPos:na,ready:Qr,offsetX:Te,offsetY:Ke,offsetR:Gr,offsetB:ke,onAlign:Hr,stretch:er,targetWidth:He/ze,targetHeight:Ye/Kr})))});return n}const _a=Ga(wa);export{_a as T};
