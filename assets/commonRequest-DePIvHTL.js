import{a as n}from"./index-C0RmN517.js";import{C as s}from"./index-f1YMPRds.js";import{U as m}from"./JWTUtils-DLG_3aPf.js";import{b as u,e as p}from"./myAxios-BIVIHpI2.js";async function w(a,e="bt",r){try{r&&r(!0);const t=await n.post(`${p}/users/login?key=${a}&expireTime=${e}`);r&&r(!1);const{code:o,msg:c,data:i}=t.data;if(o===1)return m.jwt=i,s.msg.success("登录成功"),!0;o===0&&s.msg.error(c)}catch{s.msg.error("请求失败")}}async function x(a){try{const e=await u.put("/users",a),{code:r,msg:t,data:o}=e.data;if(r===1)return m.jwt=o,s.msg.success("更新成功"),1;s.msg.error(t)}catch{s.msg.error("操作失败")}}export{w as l,x as u};
