import{o as j,r as l,j as e}from"./index-f1YMPRds.js";import{J as o,U as s}from"./JWTUtils-DLG_3aPf.js";import{u as g}from"./commonRequest-DePIvHTL.js";import{F as i}from"./index-DOvSQaDx.js";import{M as h}from"./index-DiwL6sTj.js";import{I as p}from"./index-BUIwELm1.js";import{R as y,C as c}from"./row-Dx7pK_Vw.js";import{A as d}from"./index-BHNZjGw5.js";import{R as C}from"./UserOutlined-BUEiQNjW.js";import"./index-C0RmN517.js";import"./myAxios-BIVIHpI2.js";import"./collapse-BbEVqHco.js";import"./useForm-BUcPPhQn.js";import"./QuestionCircleOutlined-CkfPyHQh.js";import"./index-BEIOo5xS.js";import"./useMergedState-DTxgtxFb.js";import"./index-uePLcMZT.js";import"./isMobile-DjGTsQxe.js";import"./colors-CI0yjLlk.js";import"./PurePanel-_rSNh8S4.js";import"./index-BzYRzDzH.js";import"./BaseInput-MPvJHzzE.js";import"./TextArea-BeCUnayI.js";import"./SearchOutlined-Cmz87yFm.js";import"./mediaQueryUtil-BSyvLspT.js";import"./AntdIcon-DOlxDjpc.js";const P=j(()=>{const[f,m]=l.useState(!1),[r,n]=l.useState(o.getAvatar()),[a]=i.useForm(),u=async()=>{a.validateFields().then(async t=>{const{username:x}=t;m(!0);const v=await g({username:x,avatar:r});m(!1),v===1&&(s.setInfoModal(!1),a.resetFields())}).catch(t=>console.log("表单有误=>",t))};return e.jsxs(h,{onOk:u,title:"查看|修改 个人信息",open:s.infoModal,confirmLoading:f,onCancel:()=>s.setInfoModal(!1),children:[e.jsx(i,{form:a,layout:"vertical",initialValues:{username:o.getName(),avatar:o.getAvatar()},children:e.jsx(i.Item,{name:"username",label:"用户昵称",rules:[{required:!0,max:10}],children:e.jsx(p,{placeholder:"请输入用户昵称"})})}),e.jsxs(y,{children:[e.jsxs(c,{span:20,children:["头像",e.jsx(p,{value:r,onChange:t=>n(t.target.value)})]}),e.jsx(c,{span:4,style:{display:"flex",justifyContent:"center",alignItems:"center"},children:e.jsx(d,{size:40,style:{backgroundColor:"rgba(180,171,171,0.45)"},icon:e.jsx(C,{}),src:r})}),[...Array(99).keys()].map(t=>e.jsx(d,{size:40,src:`https://api.dicebear.com/7.x/miniavs/svg?seed=${t+1}`,onClick:()=>n(`https://api.dicebear.com/7.x/miniavs/svg?seed=${t+1}`)},t))]})]})});export{P as default};
